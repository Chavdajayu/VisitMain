import{r as n,j as e,A as u,o as m,C as b,p as x,q as p}from"./ui-3vQ9-yJw.js";import{s as g,L as h}from"./index-sJx7Xdqp.js";import{B as f}from"./button-BxgNf8B1.js";import{C as j,a as y}from"./card-C-wb9owH.js";import{m as C}from"./proxy-Dkg6DtWx.js";import"./vendor-C0Dkio3Y.js";import"./firebase-CupIkEz0.js";function I(){const[r,s]=n.useState("loading");n.useEffect(()=>{const o=new URLSearchParams(window.location.search),a=o.get("id"),c=o.get("residencyId");if(!a){s("not_found");return}const d=g.subscribeToVisitorRequest(a,i=>{s(i?i.status:"not_found")},c||void 0);return()=>{d()}},[]);const t=(()=>{switch(r){case"approved":case"entered":case"exited":return{borderColor:"border-t-green-500",bg:"bg-green-50/50",glow:"bg-green-400/20",icon:p,iconColor:"text-green-500",title:"Request Approved â€“ Please proceed to gate",desc:"The resident has approved your entry. You may now proceed to the security gate."};case"rejected":return{borderColor:"border-t-red-500",bg:"bg-red-50/50",glow:"bg-red-400/20",icon:x,iconColor:"text-red-500",title:"Request Rejected",desc:"Sorry, your entry request has been rejected by the resident."};case"not_found":return{borderColor:"border-t-slate-500",bg:"bg-slate-50/50",glow:"bg-slate-400/20",icon:b,iconColor:"text-slate-500",title:"Request Not Found",desc:"Could not find your request details. It may have been deleted or expired."};default:return{borderColor:"border-t-amber-500",bg:"bg-amber-50/50",glow:"bg-amber-400/20",icon:m,iconColor:"text-amber-500",title:"Request Pending",desc:"Your request has been sent to the resident. Please wait while they approve your entry."}}})(),l=t.icon;return e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:e.jsx(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:e.jsxs(j,{className:`border-t-4 ${t.borderColor} shadow-xl overflow-hidden transition-colors duration-500`,children:[e.jsx("div",{className:`${t.bg} p-8 flex justify-center transition-colors duration-500`,children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute inset-0 ${t.glow} blur-xl rounded-full transition-colors duration-500`}),e.jsx(l,{className:`relative h-20 w-20 ${t.iconColor} transition-colors duration-500`})]})}),e.jsxs(y,{className:"pt-8 pb-8 px-6",children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-slate-900 mb-2",children:t.title}),e.jsx("p",{className:"text-slate-500 mb-6",children:t.desc}),(r==="pending"||r==="loading")&&e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100 text-sm text-left mb-6",children:[e.jsx("p",{className:"font-medium text-slate-700 mb-1",children:"What happens next?"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-slate-500",children:[e.jsx("li",{children:"Resident receives notification"}),e.jsx("li",{children:"They approve or reject your request"}),e.jsx("li",{children:"Guard verifies approval at the gate"})]})]}),e.jsx(h,{href:"/",children:e.jsxs(f,{variant:"outline",className:"w-full",children:[e.jsx(u,{className:"mr-2 h-4 w-4"})," Back to Home"]})})]})]})})})}export{I as default};
